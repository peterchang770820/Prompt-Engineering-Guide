# 提示介紹

提示工程是一門相對較新的學科，用於開發和優化提示以有效地將語言模型 (LM) 用於各種應用程序和研究主題。即時的工程技能有助於更好地理解大型語言模型 (LLM) 的功能和局限性。研究人員使用提示工程來提高 LLM 在廣泛的常見和復雜任務（例如問題回答和算術推理）上的能力。開發人員使用提示工程來設計與 LLM 和其他工具交互的強大且有效的提示技術。

本指南涵蓋標準提示的基礎知識，以提供有關如何使用提示進行交互和指導大型語言模型 (LLM) 的粗略概念。

除非另有說明，否則所有示例均使用“text-davinci-003”（使用 OpenAI 的操場）進行測試。它使用默認配置，例如，`temperature=0.7` 和 `top-p=1`。

話題：
- [基本提示](#基本提示)
- [關於 LLM 設置的一個詞](#關於-LLM-設置的一個詞)
- [標準提示](#標準提示)
- [提示元素](#提示元素)
- [設計提示的一般技巧](#設計提示的一般技巧)

---

## 基本提示

您已經可以通過提示取得很多成果，但結果的質量取決於您提供的信息量。提示可以包含您傳遞給模型的“說明”或“問題”等信息，還可以包含其他詳細信息，例如“輸入”或“示例”。

這是一個簡單提示的基本示例：

*迅速的*
```
天空是
```

*輸出：*
```
藍色的

晴天時天空是藍色的。在陰天，天空可能是灰色或白色。
```

如您所見，語言模型輸出了一系列有意義的字符串，給出了上下文“The sky is”。輸出可能出乎意料或與我們想要完成的任務相去甚遠。

這個基本示例還強調了提供更多關於我們具體想要實現的內容的上下文或說明的必要性。

讓我們試著改進一下：

*迅速的：*
```
完成那個句子：

天空是
```

*輸出：*

```
 今天真美
```

那個更好嗎？好吧，我們告訴模型完成句子，這樣結果看起來好多了，因為它完全按照我們告訴它的去做（“完成句子”）。這種設計最佳提示以指示模型執行任務的方法就是所謂的**提示工程**。

上面的例子是對當今 LLM 的可能性的基本說明。今天的 LLM 能夠執行各種高級任務，從文本摘要到數學推理再到代碼生成。

---
## 關於 LLM 設置的一個詞

使用提示時，您將通過 API 或直接與 LLM 進行交互。您可以配置一些參數以獲得不同的提示結果。

**溫度** - 簡而言之，溫度越低，結果越確定，因為總是選擇下一個最高可能的標記。溫度升高可能會導致更多的隨機性，從而鼓勵更多樣化或更具創造性的產出。我們實質上是在增加其他可能的代幣的權重。在應用方面，我們可能希望使用較低的溫度來進行基於事實的 QA，以鼓勵更多的事實和簡潔的響應。對於詩歌生成或其他創造性任務，提高溫度可能是有益的。

**Top_p** - 同樣，使用 top_p（一種稱為核採樣的溫度採樣技術），您可以控制模型在生成響應時的確定性。如果您正在尋找准確和事實的答案，請保持低調。如果您正在尋找更多樣化的響應，請增加到更高的值。

一般建議是改變一個而不是兩個。

在開始一些基本示例之前，請記住您的結果可能會因您使用的 LLM 版本而異。

---
## 標準提示

我們在上面嘗試了一個非常簡單的提示。標準提示具有以下格式：

```
<問題>？
```
 
這可以格式化成QA格式，這是很多QA數據集中的標準格式，如下：

```
問：<問題>？
A：
```

鑑於上述標準格式，一種流行且有效的提示技術被稱為少鏡頭提示，我們提供了範例。Few-shot 提示的格式如下：

```
<問題>？
<回答>

<問題>？
<回答>

<問題>？
<回答>

<問題>？

```


你已經可以猜到它的 QA 格式版本看起來像這樣：

```
問：<問題>？
答：<回答>

問：<問題>？
答：<回答>

問：<問題>？
答：<回答>

問：<問題>？
A：
```

請記住，不需要使用 QA 格式。格式取決於手頭的任務。例如，您可以執行一個簡單的分類任務，並給出示例來演示該任務，如下所示：

*迅速的：*
```
這太棒了！// 積極的
這不好！// 消極的
哇那部電影太棒了！// 積極的
多麼可怕的表演！//
```

*輸出：*
```
消極的
```

Few-shot 提示支持上下文學習，這是語言模型學習僅給出幾個示例的任務的能力。我們將在即將發布的指南中看到更多此類操作。

---
## 提示元素

隨著我們涵蓋越來越多的提示工程可能的示例和應用程序，您會注意到提示是由某些元素組成的。

提示可以包含以下任何組件：

**指令** - 您希望模型執行的特定任務或指令

**上下文** - 可能涉及外部信息或其他上下文，可以引導模型做出更好的響應

**輸入數據** - 是我們有興趣為其找到響應的輸入或問題

**輸出指示器** - 指示輸出的類型或格式。

並非所有組件都是提示所必需的，格式取決於手頭的任務。我們將在即將發布的指南中介紹更具體的示例。

---
## 設計提示的一般技巧

在設計提示時，請記住以下提示：


### 從簡單開始
當您開始設計提示時，您應該記住，這實際上是一個迭代過程，需要大量實驗才能獲得最佳結果。使用 OpenAI 或 Cohere 等簡單的 playground 是一個很好的起點。

您可以從簡單的提示開始，然後隨著您的目標不斷添加更多元素和上下文以獲得更好的結果。出於這個原因，在此過程中對提示進行版本控制至關重要。在我們閱讀本指南時，您會看到許多示例，在這些示例中，具體、簡單和簡潔通常會給您帶來更好的結果。

當你有涉及許多不同子任務的大任務時，你可以嘗試將任務分解為更簡單的子任務，並隨著你獲得更好的結果而不斷積累。這避免了在一開始就給提示設計過程增加太多的複雜性。

### 指令
您可以為各種簡單任務設計有效的提示，通過使用命令來指示模型您想要實現的目標，例如“寫入”、“分類”、“總結”、“翻譯”、“排序”等。

請記住，您還需要進行大量試驗，以了解最有效的方法。使用不同的關鍵字、上下文和數據嘗試不同的指令，看看哪種指令最適合您的特定用例和任務。通常，上下文與您要執行的任務越具體和相關越好。我們將在即將發布的指南中探討採樣的重要性並添加更多上下文。

其他人建議將說明放在提示的開頭。還建議使用一些清晰的分隔符，如“###”來分隔指令和上下文。

例如：

*迅速的：*
```
＃＃＃ 操作說明 ＃＃＃
將以下文字翻譯成西班牙語：

文字：“你好！”
```

*輸出：*
```
你好！
```

###特異性
非常具體地說明您希望模型執行的指令和任務。提示越詳細越詳細，結果就越好。當您擁有想要的結果或正在尋求的生成方式時，這一點尤為重要。沒有特定的標記或關鍵字可以帶來更好的結果。擁有良好的格式和描述性提示更為重要。事實上，在提示中提供示例對於以特定格式獲得所需的輸出非常有效。

在設計提示時，您還應該牢記提示的長度，因為提示的長度是有限制的。考慮你應該如何具體和詳細是需要考慮的事情。太多不必要的細節不一定是好的方法。細節應該是相關的並且有助於手頭的任務。這是您需要進行大量試驗的東西。我們鼓勵進行大量試驗和迭代，以優化您的應用程序的提示。

作為示例，讓我們嘗試一個簡單的提示，從一段文本中提取特定信息。

*迅速的：*
```
提取以下文本中的地名。

所需格式：
地點：<comma_separated_list_of_company_names>

輸入：“儘管這些發展令研究人員感到鼓舞，但仍有很多謎團。“我們經常在大腦和我們在外圍看到的效果之間有一個黑匣子，”Champalimaud 中心的神經免疫學家 Henrique Veiga-Fernandes 說。里斯本的 Unknown。“如果我們想在治療環境中使用它，我們實際上需要了解其機制。”
```

*輸出：*
```
地點：Champalimaud 未知中心，里斯本
```

輸入文本來自 [這篇 Nature 文章](https://www.nature.com/articles/d41586-023-00509-z)。

### 避免不精確

鑑於上面關於詳細和改進格式的提示，很容易陷入想要對提示過於聰明並可能創建不精確描述的陷阱。最好是具體和直接。這裡的類比與有效溝通非常相似——越直接，信息越有效。

例如，您可能對學習提示工程的概念感興趣。你可能會嘗試這樣的事情：

```
解釋概念提示工程。保持解釋簡短，只有幾句話，並且不要過於描述性。
```

從上面的提示看不清楚要用多少句，用什麼文體。使用上述提示，您可能仍會得到一些不錯的響應，但更好的提示應該是非常具體、簡潔且切中要點的提示。就像是：

```
用 2-3 句話向高中生解釋提示工程的概念。
```

###做還是不做？
設計提示時的另一個常見技巧是避免說什麼不該做，而是說什麼該做。這鼓勵更多的特異性並關注導致模型產生良好響應的細節。

這是一個電影推薦聊天機器人的例子，因為我編寫指令的方式而導致我不希望它做的事情失敗——專注於不該做的事情。

*迅速的：*
```
以下是向客戶推薦電影的代理。不要問利益。不要詢問個人信息。

顧客：請根據我的興趣推荐一部電影。
代理人：
```

*輸出：*
```
當然，我可以根據您的興趣推荐一部電影。你想看什麼樣的電影？你喜歡動作片、喜劇片、浪漫片還是其他？
```

這是一個更好的提示：

*迅速的：*
```
以下是向客戶推薦電影的代理。代理負責從全球熱門電影中推荐一部電影。它應該避免詢問用戶的偏好，並避免詢問個人信息。如果agent沒有推薦的電影，應該回复“Sorry, couldn't find a movie to recommend today.”。

顧客：請根據我的興趣推荐一部電影。
代理人：
```

*輸出：*
```
抱歉，我沒有關於您興趣的任何信息。但是，這裡是目前全球最熱門電影的列表：[電影列表]。我希望你能找到你喜歡的東西！
```

上面的一些示例摘自[“使用 OpenAI API 進行提示工程的最佳實踐”一文。](https://help.openai.com/en/articles/6654000-best-practices-for-prompt-engineering-與-openai-api)


---
[下一節（基本提示）](./prompts-basic-usage.md)